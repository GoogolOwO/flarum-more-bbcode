(()=>{var o={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},d:(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(o,e)=>Object.prototype.hasOwnProperty.call(o,e),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},e={};(()=>{"use strict";o.r(e);const t=flarum.core.compat["common/extend"],r=flarum.core.compat["common/app"];var n=o.n(r);const c=flarum.core.compat["forum/components/CommentPost"];var a=o.n(c);const s=flarum.core.compat["forum/components/DiscussionPage"];var i=o.n(s);const l=flarum.core.compat["forum/utils/DiscussionControls"];var u=o.n(l);const p=flarum.core.compat["forum/components/LogInModal"];var d=o.n(p);const f=flarum.core.compat["common/components/TextEditor"];var g=o.n(f);const y=flarum.core.compat["common/components/TextEditorButton"];var b=o.n(y);n().initializers.add("imeepo/more-bbcode",(function(){(0,t.extend)(g().prototype,"toolbarItems",(function(o){var e=this;o.add("reply-to-see",m(b(),{onclick:function(){e.attrs.composer.editor.insertAtCursor("[reply][/reply]");var o=e.attrs.composer.editor.getSelectionRange();e.attrs.composer.editor.moveCursorTo(o[1]-8)},icon:"fa fa-comment-medical"},n().translator.trans("imeepo-more-bbcode.forum.button_tooltip_reply"))),o.add("login-to-see",m(b(),{onclick:function(){e.attrs.composer.editor.insertAtCursor("[login][/login]");var o=e.attrs.composer.editor.getSelectionRange();e.attrs.composer.editor.moveCursorTo(o[1]-8)},icon:"fas fa-sign-in-alt"},n().translator.trans("imeepo-more-bbcode.forum.button_tooltip_login"))),o.add("imeepo-cloud",m(b(),{onclick:function(){e.attrs.composer.editor.insertAtCursor("[cloud type=other title=标题 url=链接]密码[/cloud]");var o=e.attrs.composer.editor.getSelectionRange();e.attrs.composer.editor.moveCursorTo(o[1]-8)},icon:"fas fa-download"},n().translator.trans("imeepo-more-bbcode.forum.button_tooltip_cloud")))})),(0,t.extend)(a().prototype,"content",(function(){n().session.user&&n().current.matches(i())?$(".reply2see_reply").off("click").on("click",(function(){return u().replyAction.call(n().current.get("discussion"),!0,!1)})):($(".reply2see_reply").off("click").on("click",(function(){return n().modal.show(d())})),$(".login2see_login").off("click").on("click",(function(){return n().modal.show(d())})))}))}))})(),module.exports=e})();
//# sourceMappingURL=forum.js.map