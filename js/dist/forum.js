(()=>{var t={n:i=>{var o=i&&i.__esModule?()=>i.default:()=>i;return t.d(o,{a:o}),o},d:(i,o)=>{for(var e in o)t.o(o,e)&&!t.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:o[e]})},o:(t,i)=>Object.prototype.hasOwnProperty.call(t,i),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},i={};(()=>{"use strict";t.r(i);const o=flarum.core.compat["common/app"];var e=t.n(o);const n=flarum.core.compat.extend,r=flarum.core.compat["components/TextEditor"];var c=t.n(r);function a(t,i){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},a(t,i)}function s(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t,a(t,i)}const l=flarum.core.compat["common/extend"],f=(flarum.core.compat["common/components/Button"],flarum.core.compat["common/Component"]);var u=t.n(f);const d=flarum.core.compat["common/components/Dropdown"];var p=t.n(d);const b=flarum.core.compat["common/utils/ItemList"];var _=t.n(b);const g=flarum.core.compat["common/helpers/icon"];var h=t.n(g);const x=flarum.core.compat["forum/components/CommentPost"];var k=t.n(x);const y=flarum.core.compat["forum/components/DiscussionPage"];var w=t.n(y);const v=flarum.core.compat["forum/utils/DiscussionControls"];var F=t.n(v);const N=flarum.core.compat["forum/components/LogInModal"];var T=t.n(N);const C=flarum.core.compat["forum/components/PostStream"];var L=t.n(C);flarum.core.compat["components/Separator"];const j=flarum.core.compat["forum/components/ComposerPostPreview"];var E=t.n(j);const M=flarum.core.compat["common/utils/styleSelectedText"];var P=t.n(M);const A=flarum.core.compat["common/components/Tooltip"];var O=t.n(A),B=function(t){function i(){return t.apply(this,arguments)||this}s(i,t);var o=i.prototype;return o.oncreate=function(i){t.prototype.oncreate.call(this,i)},o.view=function(){var t=m("button",{className:"Button Button--icon Button--link",type:"button","data-hotkey":this.attrs.hotkey,onkeydown:this.keydown.bind(this),onclick:this.attrs.onclick},h()(this.attrs.icon));return this.attrs.title?m(O(),{text:this.attrs.title},t):t},o.keydown=function(t){" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),this.element.click())},i}(u()),z=function(t){function i(){return t.apply(this,arguments)||this}s(i,t);var o=i.prototype;return o.view=function(){return p().component({className:"More-bbcode-buttonsDropdown",buttonClassName:"Button Button--flat",label:h()("fas fa-th-large")},this.markdownToolbarItems().toArray())},o.markdownToolbarItems=function(t){var i=this,o=(navigator.userAgent.match(/Macintosh/),{left:{prefix:"[left] ",suffix:" [/left]",trimFirst:!0},center:{prefix:"[center] ",suffix:" [/center]",trimFirst:!0},right:{prefix:"[right] ",suffix:" [/right]",trimFirst:!0},justify:{prefix:"[justify] ",suffix:" [/justify]",trimFirst:!0},dropcap:{prefix:"[dropcap] ",suffix:" [/dropcap]",trimFirst:!0},ileft:{prefix:"[ileft] ",suffix:" [/ileft]",trimFirst:!0},iright:{prefix:"[iright] ",suffix:" [/iright]",trimFirst:!0},pleft:{prefix:"[pleft] ",suffix:" [/pleft]",trimFirst:!0},pright:{prefix:"[pright] ",suffix:" [/pright]",trimFirst:!0},details:{prefix:"[details=TITLE] CONTENT ",suffix:"[/details]",blockPrefix:"[/details]",trimFirst:!0},like:{prefix:"[like] ",suffix:" [/like]",trimFirst:!0},reply:{prefix:"[reply] ",suffix:" [/reply]",trimFirst:!0},login:{prefix:"[login] ",suffix:" [/login]",trimFirst:!0},cloud:{prefix:"[cloud type=other title=title url=link] Password ",suffix:"[/cloud]",trimFirst:!0},down:{prefix:'[down link="URL" size=2kB name=file.zip]',trimFirst:!0},audio:{prefix:'[audio mp3="URL"]',trimFirst:!0},clip:{prefix:'[clip mp4="URL"]',trimFirst:!0},table:{prefix:"\n| Column | Column | Column | Column |\n\n|---|---|---|---|\n\n| row  |  row | row | row  |\n",trimFirst:!0},word:{prefix:"[gdoc] ",suffix:" [/gdoc]",trimFirst:!0},size:{prefix:"[size=16] ",suffix:" [/size]",trimFirst:!0},color:{prefix:"[color=red] ",suffix:" [/color]",trimFirst:!0},tab:{prefix:'\n[tabs]\n\n[tab="hi"]Hi[/tab]\n\n[tab="hello"]Hello[/tab]\n\n[/tabs]\n',trimFirst:!0},warning:{prefix:"[awarning] ",suffix:" [/awarning]",trimFirst:!0},asuccess:{prefix:"[asuccess] ",suffix:" [/asuccess]",trimFirst:!0},ainfo:{prefix:"[ainfo] ",suffix:" [/ainfo]",trimFirst:!0},abasic:{prefix:"[abasic] ",suffix:" [/abasic]",trimFirst:!0},acustom:{prefix:"[acustom] ",suffix:" [/acustom]",trimFirst:!0},bwarning:{prefix:"[bwarning] ",suffix:" [/bwarning]",trimFirst:!0},bsuccess:{prefix:"[bsuccess] ",suffix:" [/bsuccess]",trimFirst:!0},berror:{prefix:"[berror] ",suffix:" [/berror]",trimFirst:!0},cwarning:{prefix:"[cwarning] ",suffix:" [/cwarning]",trimFirst:!0},cnotice:{prefix:"[cnotice] ",suffix:" [/cnotice]",trimFirst:!0},cerror:{prefix:"[cerror] ",suffix:" [/cerror]",trimFirst:!0},csuccess:{prefix:"[csuccess] ",suffix:" [/csuccess]",trimFirst:!0},bcustom:{prefix:"[bcustom] ",suffix:" [/bcustom]",trimFirst:!0},dnotice:{prefix:"[dnotice] ",suffix:" [/dnotice]",trimFirst:!0},derror:{prefix:"[derror] ",suffix:" [/derror]",trimFirst:!0},dwarning:{prefix:"[dwarning] ",suffix:" [/dwarning]",trimFirst:!0},dsuccess:{prefix:"[dsuccess] ",suffix:" [/dsuccess]",trimFirst:!0}}),n="function"==typeof t?t():new(_());function r(t,i){return e().translator.trans("imeepo-more-bbcode.forum."+t)}var c=function(t){return function(){return function(t,i){P()(i.el,o[t])}(t,i.attrs.textEditor)}};return n.add("left",m(B,{title:r("button_tooltip_left"),icon:"fas fa-align-left",onclick:c("left")}),1e3),n.add("center",m(B,{title:r("button_tooltip_center"),icon:"fas fa-align-center",onclick:c("center")}),1e3),n.add("right",m(B,{title:r("button_tooltip_right"),icon:"fas fa-align-right",onclick:c("right")}),1e3),n.add("justify",m(B,{title:r("button_tooltip_justify"),icon:"fas fa-align-justify",onclick:c("justify")}),1e3),n.add("dropcap",m(B,{title:r("button_tooltip_dropcap"),icon:"fas fa-list-alt",onclick:c("dropcap")}),1e3),n.add("ileft",m(B,{title:r("button_tooltip_img_left"),icon:"fas fa-fast-backward",onclick:c("ileft")}),1e3),n.add("iright",m(B,{title:r("button_tooltip_img_right"),icon:"fas fa-fast-forward",onclick:c("iright")}),1e3),n.add("pleft",m(B,{title:r("button_tooltip_p_left"),icon:"fas fa-outdent",onclick:c("pleft")}),1e3),n.add("pright",m(B,{title:r("button_tooltip_p_right"),icon:"fas fa-indent",onclick:c("pright")}),1e3),n.add("details",m(B,{title:r("button_tooltip_details"),icon:"fas fa-eye-slash",onclick:c("details")}),1e3),n.add("like",m(B,{title:r("button_tooltip_like"),icon:"fas fa-thumbs-up",onclick:c("like")}),1e3),n.add("reply",m(B,{title:r("button_tooltip_reply"),icon:"fas fa-reply-all",onclick:c("reply")}),1e3),n.add("login",m(B,{title:r("button_tooltip_login"),icon:"fas fa-sign-in-alt",onclick:c("login")}),1e3),n.add("cloud",m(B,{title:r("button_tooltip_cloud"),icon:"fas fa-download",onclick:c("cloud")}),1e3),n.add("down",m(B,{title:r("button_tooltip_down"),icon:"fas fa-download",onclick:c("down")}),1e3),n.add("audio",m(B,{title:r("button_tooltip_audio"),icon:"fas fa-file-audio",onclick:c("audio")}),1e3),n.add("clip",m(B,{title:r("button_tooltip_clip"),icon:"fas fa-file-video",onclick:c("clip")}),1e3),n.add("table",m(B,{title:r("button_tooltip_table"),icon:"fas fa-table",onclick:c("table")}),1e3),n.add("word",m(B,{title:r("button_tooltip_word"),icon:"fas fa-file-word",onclick:c("word")}),1e3),n.add("size",m(B,{title:r("button_tooltip_size"),icon:"fas fa-text-height",onclick:c("size")}),1e3),n.add("color",m(B,{title:r("button_tooltip_color"),icon:"fas fa-palette",onclick:c("color")}),1e3),n.add("tab",m(B,{title:r("button_tooltip_tab"),icon:"fas fa-tasks",onclick:c("tab")}),1e3),n.add("warning",m(B,{title:r("button_tooltip_notification_warning"),icon:"fas fa-bell",onclick:c("warning")}),1e3),n.add("asuccess",m(B,{title:r("button_tooltip_notification_asuccess"),icon:"fas fa-bell",onclick:c("asuccess")}),1e3),n.add("ainfo",m(B,{title:r("button_tooltip_notification_asuccess"),icon:"fas fa-bell",onclick:c("ainfo")}),1e3),n.add("abasic",m(B,{title:r("button_tooltip_notification_abasic"),icon:"fas fa-bell",onclick:c("abasic")}),1e3),n.add("acustom",m(B,{title:r("button_tooltip_notification_acustom"),icon:"fas fa-bell",onclick:c("acustom")}),1e3),n.add("bwarning",m(B,{title:r("button_tooltip_notification_bwarning"),icon:"fas fa-bell",onclick:c("bwarning")}),1e3),n.add("bsuccess",m(B,{title:r("button_tooltip_notification_bsuccess"),icon:"fas fa-bell",onclick:c("bsuccess")}),1e3),n.add("berror",m(B,{title:r("button_tooltip_notification_berror"),icon:"fas fa-bell",onclick:c("berror")}),1e3),n.add("cwarning",m(B,{title:r("button_tooltip_notification_cwarning"),icon:"fas fa-bell",onclick:c("cwarning")}),1e3),n.add("cnotice",m(B,{title:r("button_tooltip_notification_cnotice"),icon:"fas fa-bell",onclick:c("cnotice")}),1e3),n.add("cerror",m(B,{title:r("button_tooltip_notification_cerror"),icon:"fas fa-bell",onclick:c("cerror")}),1e3),n.add("csuccess",m(B,{title:r("button_tooltip_notification_csuccess"),icon:"fas fa-bell",onclick:c("csuccess")}),1e3),n.add("bcustom",m(B,{title:r("button_tooltip_notification_bcustom"),icon:"fas fa-bell",onclick:c("bcustom")}),1e3),n.add("dnotice",m(B,{title:r("button_tooltip_notification_dnotice"),icon:"fas fa-bell",onclick:c("dnotice")}),1e3),n.add("derror",m(B,{title:r("button_tooltip_notification_derror"),icon:"fas fa-bell",onclick:c("derror")}),1e3),n.add("dwarning",m(B,{title:r("button_tooltip_notification_dwarning"),icon:"fas fa-bell",onclick:c("dwarning")}),1e3),n.add("dsuccess",m(B,{title:r("button_tooltip_notification_dsuccess"),icon:"fas fa-bell",onclick:c("dsuccess")}),1e3),n},i}(u());e().initializers.add("litalino/more-bbcode",(function(){(0,l.extend)(k().prototype,"content",(function(){e().session.user&&e().current.matches(w())?($(".reply2see_reply").off("click").on("click",(function(){return F().replyAction.call(e().current.get("discussion"),!0,!1)})),$(".like2see_like").off("click").on("click",(function(){return F().likesAction.call(e().current.get("discussion"),!0,!1)}))):($(".reply2see_reply").off("click").on("click",(function(){return e().modal.show(T())})),$(".login2see_login").off("click").on("click",(function(){return e().modal.show(T())})),$(".like2see_like").off("click").on("click",(function(){return e().modal.show(T())})))})),(0,l.extend)(L().prototype,"oncreate",(function(){!function(){var t=document.getElementsByClassName("Post-body");if(0!=t.length)for(var i=0;i<t.length;i++)for(var o=t[i].getElementsByClassName("bbextend-gdoc"),e=0;e<o.length;e++){var n=o[e],r=n.getElementsByTagName("a")[0].getAttribute("href");if(n.classList.remove("bbextend-gdoc"),r.startsWith("https://docs.google.com/document/d/")){n.innerHTML='<i class="fas fa-ellipsis fa-fade"></i> Loading Google Doc...',r=r.substring(0,r.lastIndexOf("/"));var c=new XMLHttpRequest;c.open("GET",r+"/pub",!0),c.responseType="document",c.onload=function(){if(200==this.status){var t=this.responseXML.getElementsByTagName("body")[0].innerHTML;n.innerHTML=t;for(var i=n.childNodes[1];n.firstChild;)n.removeChild(n.firstChild);n.appendChild(i);var o=n.childNodes[0].childNodes[0].innerHTML,e=n.childNodes[0].childNodes[1],c={};o.split("}").forEach((function(t){var i=t.split("{"),o=i[0],e=i[1];e&&(c[o]=e+";")})),n.childNodes[0].removeChild(n.childNodes[0].childNodes[0]),function t(i){if(i.childNodes.length>0)for(var o=0;o<i.childNodes.length;o++)t(i.childNodes[o]);if(i.className){var e=i.className.split(" "),n="";e.forEach((function(t){n+=c["."+t]})),i.setAttribute("style",n+H),i.removeAttribute("class")}}(e);var a=e.getAttribute("style").split(";");a.forEach((function(t,i){t.includes("max-width")&&(a[i]="max-width: 100%")})),e.setAttribute("style","color: #000;"+a.join(";"));var s=document.createElement("a");s.setAttribute("href",r),s.setAttribute("target","_blank"),s.innerHTML='<i class="fas fa-file-word"></i> View Google Doc',n.appendChild(s)}},c.onerror=function(){n.innerHTML='<i class="fas fa-triangle-exclamation"></i> Failed to load Google Doc'},c.send()}else n.innerHTML='<i class="fas fa-triangle-exclamation"></i> Invalid Google Doc URL'}}()}));var t=0,i=function(){this.$(".tabs").each((function(i,o){var e=$(o);if(!e.find('input[type="radio"][name]').length){var n=e.find('> .tab > input[type="radio"]');if(n.length){var r=e.find(".tab"),c=t++;n.attr("name","tab-group-"+c),n.is("[checked]")||n[0].setAttribute("checked","checked"),r.each((function(t,i){var o=$(i),e="tab-"+c+"-"+ ++t;o.find('input[type="radio"]').attr("id",e),o.find("label").attr("for",e)}))}}}))};(0,l.extend)(k().prototype,["oncreate","onupdate"],i),(0,l.extend)(E().prototype,"oncreate",(function(){var t=this;(0,l.extend)(this.attrs,"surround",(function(){return i.call(t)}))}))}));var H="margin-bottom: 0;";e().initializers.add("litalino-more-bbcode",(function(){(0,n.extend)(c().prototype,"toolbarItems",(function(t){t.add("litalino-more-bbcode",m(z,{textEditor:this.attrs.composer.editor}))}))}),-500)})(),module.exports=i})();
//# sourceMappingURL=forum.js.map