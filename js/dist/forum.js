(()=>{var t={n:o=>{var r=o&&o.__esModule?()=>o.default:()=>o;return t.d(r,{a:r}),r},d:(o,r)=>{for(var e in r)t.o(r,e)&&!t.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:r[e]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};(()=>{"use strict";t.r(o);const r=flarum.core.compat["common/app"];var e=t.n(r);const n=flarum.core.compat.extend,i=flarum.core.compat["components/TextEditor"];var s=t.n(i);function a(t,o){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,o){return t.__proto__=o,t},a(t,o)}const c=flarum.core.compat["common/extend"],u=flarum.core.compat["common/components/Button"];var d=t.n(u);const l=flarum.core.compat["common/Component"];var f=t.n(l);const p=flarum.core.compat["common/components/Dropdown"];var b=t.n(p);const h=flarum.core.compat["common/utils/ItemList"];var g=t.n(h);const _=flarum.core.compat["common/helpers/icon"];var v=t.n(_);const x=flarum.core.compat["forum/components/CommentPost"];var E=t.n(x);const C=flarum.core.compat["forum/components/DiscussionPage"];var k=t.n(C);const w=flarum.core.compat["forum/utils/DiscussionControls"];var y=t.n(w);const T=flarum.core.compat["forum/components/LogInModal"];var A=t.n(T);const S=flarum.core.compat["forum/components/PostStream"];var R=t.n(S);const N=flarum.core.compat["components/Separator"];var L=t.n(N);const O=flarum.core.compat["forum/components/ComposerPostPreview"];var j=t.n(O),M=function(t){var o,r;function n(){return t.apply(this,arguments)||this}r=t,(o=n).prototype=Object.create(r.prototype),o.prototype.constructor=o,a(o,r);var i=n.prototype;return i.view=function(){return b().component({className:"More-bbcode-buttonsDropdown",buttonClassName:"Button Button--flat",label:v()("fas fa-th-large")},this.items().toArray())},i.items=function(){var t=this,o=new(g());o.add("left",d().component({icon:"fas fa-align-center",onclick:function(){return t.left()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_left")),50),o.add("center",d().component({icon:"fas fa-align-center",onclick:function(){return t.center()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_center")),0),o.add("right",d().component({icon:"fas fa-align-right",onclick:function(){return t.right()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_right")),0),o.add("justify",d().component({icon:"fas fa-align-justify",onclick:function(){return t.justify()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_justify")),0),o.add("dropcap",d().component({icon:"fas fa-list-alt",onclick:function(){return t.dropcap()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_dropcap")),0),o.add("ileft",d().component({icon:"fas fa-fast-backward",onclick:function(){return t.ileft()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_img_left")),0),o.add("iright",d().component({icon:"fas fa-fast-forward",onclick:function(){return t.iright()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_img_right")),0),o.add("pleft",d().component({icon:"fas fa-outdent",onclick:function(){return t.pleft()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_p_left")),0),o.add("pright",d().component({icon:"fas fa-indent",onclick:function(){return t.pright()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_p_right")),0),o.add("details",d().component({icon:"fas fa-eye-slash",onclick:function(){return t.details()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_details")),0),o.add("like",d().component({icon:"fas fa-thumbs-up",onclick:function(){return t.like()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_like")),0),o.add("reply",d().component({icon:"fas fa-reply-all",onclick:function(){return t.reply()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_reply")),0),o.add("login",d().component({icon:"fas fa-sign-in-alt",onclick:function(){return t.login()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_login")),0),o.add("imeepo-cloud",d().component({icon:"fas fa-download",onclick:function(){return t.cloud()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_cloud")),0),o.add("audio",d().component({icon:"fas fa-file-audio",onclick:function(){return t.audio()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_audio")),0),o.add("clip",d().component({icon:"fas fa-file-video",onclick:function(){return t.clip()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_clip")),0),o.add("table",d().component({icon:"fas fa-file-video",onclick:function(){return t.insertTable()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_table")),0),o.add("word",d().component({icon:"fas fa-file-word",onclick:function(){return t.insertWord()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_word")),0),o.add("size",d().component({icon:"fas fa-text-height",onclick:function(){return t.insertSize()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_size")),0),o.add("color",d().component({icon:"fas fa-palette",onclick:function(){return t.insertColor()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_color")),0),o.add("tab",d().component({icon:"fas fa-tasks",onclick:function(){return t.insertTab()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_tab")),0),o.add("down",d().component({icon:"fas fa-download",onclick:function(){return t.insertDown()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_down")),0);var r=JSON.parse(e().forum.attribute("editorSymbols")||"[]");if(r.length>0){o.add("sep",L().component());var n=function(){var e=r[i];o.add("symbol-"+i,d().component({children:e.label||e.insert,className:"Button",onclick:function(){return t.insertAtCursor(e.insert)}}))};for(var i in r)n()}return o.add("warning",d().component({onclick:function(){return t.notification_warning()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_warning")),0),o.add("asuccess",d().component({onclick:function(){return t.notification_asuccess()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_asuccess")),0),o.add("ainfo",d().component({onclick:function(){return t.notification_ainfo()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_ainfo")),0),o.add("abasic",d().component({onclick:function(){return t.notification_abasic()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_abasic")),0),o.add("acustom",d().component({onclick:function(){return t.notification_acustom()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_acustom")),0),o.add("bwarning",d().component({onclick:function(){return t.notification_bwarning()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_bwarning")),0),o.add("bsuccess",d().component({onclick:function(){return t.notification_bsuccess()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_bsuccess")),0),o.add("berror",d().component({onclick:function(){return t.notification_berror()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_berror")),0),o.add("cwarning",d().component({onclick:function(){return t.notification_cwarning()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_cwarning")),0),o.add("cnotice",d().component({onclick:function(){return t.notification_cnotice()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_cnotice")),0),o.add("cerror",d().component({onclick:function(){return t.notification_cerror()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_cerror")),0),o.add("csuccess",d().component({onclick:function(){return t.notification_csuccess()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_csuccess")),0),o.add("bcustom",d().component({onclick:function(){return t.notification_bcustom()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_bcustom")),0),o.add("dnotice",d().component({onclick:function(){return t.notification_dnotice()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_dnotice")),0),o.add("derror",d().component({onclick:function(){return t.notification_derror()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_derror")),0),o.add("dwarning",d().component({onclick:function(){return t.notification_dwarning()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_dwarning")),0),o.add("dsuccess",d().component({onclick:function(){return t.notification_dsuccess()}},e().translator.trans("imeepo-more-bbcode.forum.button_tooltip_notification_dsuccess")),0),o},i.left=function(){this.attrs.textEditor.insertAtCursor("[left][/left]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-7)},i.right=function(){this.attrs.textEditor.insertAtCursor("[right][/right]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-8)},i.center=function(){this.attrs.textEditor.insertAtCursor("[center][/center]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-9)},i.justify=function(){this.attrs.textEditor.insertAtCursor("[justify][/justify]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-10)},i.dropcap=function(){this.attrs.textEditor.insertAtCursor("[dropcap][/dropcap]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-10)},i.ileft=function(){this.attrs.textEditor.insertAtCursor("[ileft][/ileft]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-8)},i.iright=function(){this.attrs.textEditor.insertAtCursor("[iright][/iright]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-9)},i.pleft=function(){this.attrs.textEditor.insertAtCursor("[pleft][/pleft]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-8)},i.pright=function(){this.attrs.textEditor.insertAtCursor("[pright][/pright]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-9)},i.details=function(){this.attrs.textEditor.insertAtCursor("[details=TITLE]CONTENT[/details]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-10)},i.reply=function(){this.attrs.textEditor.insertAtCursor("[reply][/reply]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-8)},i.login=function(){this.attrs.textEditor.insertAtCursor("[login][/login]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-8)},i.like=function(){this.attrs.textEditor.insertAtCursor("[like][/like]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-7)},i.cloud=function(){this.attrs.textEditor.insertAtCursor("[cloud type=other title=title url=link]Password[/cloud]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-8)},i.audio=function(){this.attrs.textEditor.insertAtCursor('[audio mp3="URL"]')},i.clip=function(){this.attrs.textEditor.insertAtCursor('[clip mp4="URL"]')},i.insertTable=function(t){this.attrs.textEditor.insertAtCursor("|Column|Column|Column|Column|\n|---|---|---|---|\n| row  |  row | row | row  |\n")},i.insertWord=function(){this.attrs.textEditor.insertAtCursor("[GDOC][/GDOC]\n");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-7)},i.insertSize=function(){this.attrs.textEditor.insertAtCursor("[SIZE=16][/SIZE]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-7)},i.insertColor=function(){this.attrs.textEditor.insertAtCursor("[COLOR=red][/COLOR]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-8)},i.insertTab=function(t){this.attrs.textEditor.insertAtCursor('[tabs]\n    [tab="hi"]Hi[/tab]\n    [tab="hello"]Hello[/tab]\n[/tabs]\n')},i.insertDown=function(){this.attrs.textEditor.insertAtCursor('[down link="https://khatvongsong.vn/" size=2kB name=file.zip]')},i.notification_awarning=function(){this.attrs.textEditor.insertAtCursor("[awarning]this is an awarning message.[/awarning]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-11)},i.notification_asuccess=function(){this.attrs.textEditor.insertAtCursor("[asuccess]this is an asuccess message.[/asuccess]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-11)},i.notification_ainfo=function(){this.attrs.textEditor.insertAtCursor("[ainfo]this is an ainfo message.[/ainfo]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-8)},i.notification_abasic=function(){this.attrs.textEditor.insertAtCursor("[abasic]this is an abasic message.[/abasic]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-9)},i.notification_acustom=function(){this.attrs.textEditor.insertAtCursor("[acustom]red,black,green,this is an acustom message.[/acustom]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-10)},i.notification_bwarning=function(){this.attrs.textEditor.insertAtCursor("[bwarning]this is n bwarning message.[/bwarning]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-11)},i.notification_berror=function(){this.attrs.textEditor.insertAtCursor("[berror]this is a berror message.[/berror]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-9)},i.notification_cwarning=function(){this.attrs.textEditor.insertAtCursor("[cwarning]darkorange,white,darkorange,this is a cwarning title,this is a cwarning message.[/cwarning]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-11)},i.notification_cnotice=function(){this.attrs.textEditor.insertAtCursor("[cnotice]teal,white,teal,this is a cnotice title,this is a cnotice message.[/cnotice]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-10)},i.notification_cerror=function(){this.attrs.textEditor.insertAtCursor("[cerror]red,white,red,this is a cerror title,this is a cerror message.[/cerror]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-9)},i.notification_csuccess=function(){this.attrs.textEditor.insertAtCursor("[csuccess]green,white,green,this is a cerror title,this is a csuccess message.[/csuccess]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-11)},i.notification_bcustom=function(){this.attrs.textEditor.insertAtCursor("[bcustom]title=this is a bcustom title font=red bg=black border=green[/bcustom]");var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-10)},i.notification_dnotice=function(){this.attrs.textEditor.insertAtCursor('[dnotice title="this is a dnotice title" font="teal" bg="white" border="teal"]this is a dnotice message.[/dnotice]');var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-10)},i.notification_derror=function(){this.attrs.textEditor.insertAtCursor('[derror title="this is a derror title" font="red" bg="white" border="red"]this is a derror message.[/derror]');var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-9)},i.notification_dwarning=function(){this.attrs.textEditor.insertAtCursor('[dwarning title="this is a dwarning title" font="darkorange" bg="white" border="darkorange"]this is a dwarning message.[/dwarning]');var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-11)},i.notification_dsuccess=function(){this.attrs.textEditor.insertAtCursor('[dsuccess title="this is a dsuccess title" font="green" bg="white" border="green"]this is a dsuccess message.[/dsuccess]');var t=this.attrs.textEditor.getSelectionRange();this.attrs.textEditor.moveCursorTo(t[1]-11)},n}(f());e().initializers.add("litalino/more-bbcode",(function(){(0,c.extend)(E().prototype,"content",(function(){e().session.user&&e().current.matches(k())?($(".reply2see_reply").off("click").on("click",(function(){return y().replyAction.call(e().current.get("discussion"),!0,!1)})),$(".like2see_like").off("click").on("click",(function(){return y().likesAction.call(e().current.get("discussion"),!0,!1)}))):($(".reply2see_reply").off("click").on("click",(function(){return e().modal.show(A())})),$(".login2see_login").off("click").on("click",(function(){return e().modal.show(A())})),$(".like2see_like").off("click").on("click",(function(){return e().modal.show(A())})))})),(0,c.extend)(R().prototype,"oncreate",(function(){!function(){var t=document.getElementsByClassName("Post-body");if(0!=t.length)for(var o=0;o<t.length;o++)for(var r=t[o].getElementsByClassName("bbextend-gdoc"),e=0;e<r.length;e++){var n=r[e],i=n.getElementsByTagName("a")[0].getAttribute("href");if(n.classList.remove("bbextend-gdoc"),i.startsWith("https://docs.google.com/document/d/")){n.innerHTML='<i class="fas fa-ellipsis fa-fade"></i> Loading Google Doc...',i=i.substring(0,i.lastIndexOf("/"));var s=new XMLHttpRequest;s.open("GET",i+"/pub",!0),s.responseType="document",s.onload=function(){if(200==this.status){var t=this.responseXML.getElementsByTagName("body")[0].innerHTML;n.innerHTML=t;for(var o=n.childNodes[1];n.firstChild;)n.removeChild(n.firstChild);n.appendChild(o);var r=n.childNodes[0].childNodes[0].innerHTML,e=n.childNodes[0].childNodes[1],s={};r.split("}").forEach((function(t){var o=t.split("{"),r=o[0],e=o[1];e&&(s[r]=e+";")})),n.childNodes[0].removeChild(n.childNodes[0].childNodes[0]),function t(o){if(o.childNodes.length>0)for(var r=0;r<o.childNodes.length;r++)t(o.childNodes[r]);if(o.className){var e=o.className.split(" "),n="";e.forEach((function(t){n+=s["."+t]})),o.setAttribute("style",n+P),o.removeAttribute("class")}}(e);var a=e.getAttribute("style").split(";");a.forEach((function(t,o){t.includes("max-width")&&(a[o]="max-width: 100%")})),e.setAttribute("style","color: #000;"+a.join(";"));var c=document.createElement("a");c.setAttribute("href",i),c.setAttribute("target","_blank"),c.innerHTML='<i class="fas fa-file-word"></i> View Google Doc',n.appendChild(c)}},s.onerror=function(){n.innerHTML='<i class="fas fa-triangle-exclamation"></i> Failed to load Google Doc'},s.send()}else n.innerHTML='<i class="fas fa-triangle-exclamation"></i> Invalid Google Doc URL'}}()}));var t=0,o=function(){this.$(".tabs").each((function(o,r){var e=$(r);if(!e.find('input[type="radio"][name]').length){var n=e.find('> .tab > input[type="radio"]');if(n.length){var i=e.find(".tab"),s=t++;n.attr("name","tab-group-"+s),n.is("[checked]")||n[0].setAttribute("checked","checked"),i.each((function(t,o){var r=$(o),e="tab-"+s+"-"+ ++t;r.find('input[type="radio"]').attr("id",e),r.find("label").attr("for",e)}))}}}))};(0,c.extend)(E().prototype,["oncreate","onupdate"],o),(0,c.extend)(j().prototype,"oncreate",(function(){var t=this;(0,c.extend)(this.attrs,"surround",(function(){return o.call(t)}))}))}));var P="margin-bottom: 0;";e().initializers.add("litalino-more-bbcode",(function(){(0,n.extend)(s().prototype,"toolbarItems",(function(t){t.add("litalino-more-bbcode",m(M,{textEditor:this.attrs.composer.editor}))}))}),-500)})(),module.exports=o})();
//# sourceMappingURL=forum.js.map